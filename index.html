---
---

<html>
  <head>
    <title>Game of Life</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="assets/js/randomColor/randomColor.js"></script>
    <script src="assets/js/average-color/index-compiled.js"></script>
    <script src="assets/js/life.js"></script>
    <link rel="shortcut icon" href="favicon.ico">
    <style type="text/css">
      #container {
      	text-align: center;
        width: 100%;
        height: 100%;
        margin: 0px auto;

      }
      #life {
        border: 1px solid black;
      }
    </style>

  </head>
  <body>
    <div id="container">
      <canvas id="life">
        Canvas is required.
      </canvas>
    </div>
  </body>
  <script>
    const coverage = 0.98
    const canvas = document.getElementById("life");
    const ctx = canvas.getContext('2d');
    ctx.canvas.width  = window.innerWidth * coverage;
    ctx.canvas.height = window.innerHeight * coverage;
    const game = new Life(canvas, 5, {
      'sleep':100,
      'start_pop': 0.45,
      'min_pop': 0.05,
      'max_generations': 1000
    })
    game.run()

    $(window).resize(function(){
      ctx.canvas.width  = window.innerWidth * coverage;
      ctx.canvas.height = window.innerHeight * coverage;
      game.resize()
    });

    $('body').keyup(function(e){

      switch (e.keyCode) {

        case 13: // user has pressed enter
          console.log('Reset')
          game.reset()
          break;

        case 32: // user has pressed space
          console.log('Toggle Pause')
          game.pause = !game.pause
          break;

        case 38: // user has pressed up
          console.log('Increase speed / decrease sleep delay.')
          if (game.opts.sleep > 100) {
            game.opts.sleep -= 50
          }
          break;

        case 39: // user has pressed right
          console.log('Go forward a single generation.')
          game.increment = true
          game.pause = false
          break;

        case 40: // user has pressed down
          console.log('Decrease speed / increase sleep delay.')
            game.opts.sleep += 50
          break;

        default:

      }

    });

  </script>
</html>
